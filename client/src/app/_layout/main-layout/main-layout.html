<div class="flex flex-col h-screen bg-gray-50 dark:bg-gray-900">
  <!-- Top Bar -->
  <app-topbar class="flex-shrink-0"></app-topbar>
  
  <!-- Main Content Area -->
  <div class="flex flex-1 overflow-hidden">
    <!-- Main Content - QUI VA IL CONTENUTO DINAMICO -->
    <main class="flex-1 overflow-y-auto">
      <ng-content></ng-content>
    </main>
    
    <!-- Desktop Sidebar -->
    <app-sidebar 
      class="flex-shrink-0 hidden lg:block overflow-y-auto"
      [class.w-64]="sidebarService.isDesktopSidebarOpen()"
      [class.w-16]="!sidebarService.isDesktopSidebarOpen()"
    ></app-sidebar>
  </div>
  
  <!-- Mobile Sidebar Overlay -->
  @if (sidebarService.isMobileSidebarOpen()) {
    <div 
      class="fixed inset-0 backdrop-blur-sm bg-white/30 dark:bg-gray-900/30 z-40 lg:hidden"
      (click)="onOverlayClick()"
    ></div>
  }
  
  <!-- Mobile Sidebar -->
  <app-sidebar 
    class="fixed inset-y-0 right-0 z-50 w-64 lg:hidden transform transition-transform duration-300 ease-in-out"
    [class.translate-x-0]="sidebarService.isMobileSidebarOpen()"
    [class.translate-x-full]="!sidebarService.isMobileSidebarOpen()"
  ></app-sidebar>
</div>